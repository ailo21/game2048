(this.webpackJsonpgame2048=this.webpackJsonpgame2048||[]).push([[0],{57:function(r,t,e){},59:function(r,t,e){"use strict";e.r(t);var n,a=e(0),o=e.n(a),c=e(26),l=e.n(c),i=e(47),u=e(35),v=e(10),s=function(r){var t=r.col;return Object(v.jsx)("div",{className:"matrix_item matrix_item__".concat(t.val),style:{left:"".concat(25*t.x,"%"),top:"".concat(25*t.y,"%")},children:Object(v.jsx)("span",{children:t.val>0?t.val:""})})};!function(r){r.ArrowUp="ArrowUp",r.ArrowRight="ArrowRight",r.ArrowDown="ArrowDown",r.ArrowLeft="ArrowLeft"}(n||(n={}));var f=e(61),h=function(r){for(var t=r.length,e=Math.floor(t/2),n=t-1,a=0;a<e;a++)for(var o=a;o<n-a;o++){var c=r[a][o];r[a][o]=r[n-o][a],r[n-o][a]=r[n-a][n-o],r[n-a][n-o]=r[o][n-a],r[o][n-a]=c}return r},x=function(r){return r.map((function(r){var t=[],e=[];r.forEach((function(r){r.val>0?t.push(r.val):e.push(0)}));for(var n=t.concat(e),a=[],o=0;o<n.length;o++)void 0!==n[o+1]&&n[o]==n[o+1]?(a.push(n[o]+n[o+1]),o++):a.push(n[o]);for(;a.length<n.length;)a.push(0);return r.map((function(r,t){return r.val=a[t],r}))}))},p=function(r){return r.map((function(r){var t=[],e=[];r.forEach((function(r){r.val>0?e.push(r.val):t.push(0)}));for(var n=t.concat(e),a=n.reverse(),o=[],c=0;c<a.length;c++)void 0!==a[c+1]&&a[c]==a[c+1]?(o.push(a[c]+a[c+1]),c++):o.push(a[c]);for(;o.length<a.length;)o.push(0);return n=o.reverse(),r.map((function(r,t){return r.val=n[t],r}))}))},j=e(46),d=function(){var r=[[{x:0,y:0,val:0},{x:1,y:0,val:0},{x:2,y:0,val:0},{x:3,y:0,val:0}],[{x:0,y:1,val:0},{x:1,y:1,val:0},{x:2,y:1,val:0},{x:3,y:1,val:0}],[{x:0,y:2,val:0},{x:1,y:2,val:0},{x:2,y:2,val:0},{x:3,y:2,val:0}],[{x:0,y:3,val:0},{x:1,y:3,val:0},{x:2,y:3,val:0},{x:3,y:3,val:0}]],t=Object(a.useState)(r),e=Object(u.a)(t,2),c=e[0],l=e[1],d=Object(a.useState)(0),m=Object(u.a)(d,2),y=m[0],w=m[1],b=o.a.useRef(null);var O=function(r){if(r===n.ArrowLeft)l(x(c));else if(r==n.ArrowRight)l(p(c));else if(r==n.ArrowDown){h(c);var t=x(c);h(t),h(t),h(t),l(t)}else if(r==n.ArrowUp){h(c);var e=p(c);h(e),h(e),h(e),l(e)}};function A(r,t){return Math.floor(Math.random()*(t-r+1))+r}var g=function(){var t=0;c.forEach((function(r){return r.map((function(r){r.val<1&&t++}))})),t<1&&(alert("Game over"),l(r));var e=[2,2,2,4],n=e[Math.floor(Math.random()*e.length)],a={x:0,y:0,val:0};do{a.x=A(0,3),a.y=A(0,3)}while(0!=c[a.x][a.y].val);c[a.x][a.y].val=n,l(Object(i.a)(c))};return Object(a.useEffect)((function(){g()}),[]),Object(a.useEffect)((function(){g()}),[y]),Object(v.jsxs)("div",{className:"container",children:[Object(v.jsx)(f.a,{id:"InputTool",ref:b,autoFocus:!0,onKeyUp:function(r){r.code!==n.ArrowUp&&r.code!==n.ArrowRight&&r.code!==n.ArrowDown&&r.code!==n.ArrowLeft||(w(y+1),O(r.code))},type:"text"}),Object(v.jsxs)("div",{className:"matrix_wrap",children:[Object(v.jsx)("div",{className:"matrix",children:c.map((function(r,t){return r.map((function(r,e){return Object(v.jsx)(s,{col:r},"".concat(t).concat(e))}))}))}),Object(v.jsx)("div",{className:"matrix_tools",children:Object(v.jsx)(j.a,{block:!0,onClick:function(){l(r),w(1)},children:"\u041d\u043e\u0432\u0430\u044f \u0438\u0433\u0440\u0430"})})]})]})};e(57),e(58);var m=function(){return Object(v.jsx)("div",{className:"App",children:Object(v.jsx)(d,{})})};l.a.render(Object(v.jsx)(m,{}),document.getElementById("root"))}},[[59,1,2]]]);
//# sourceMappingURL=main.2a81c40b.chunk.js.map